<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBS Stopwatch</title>
</head>

<body>
    <div id="timer">00:00:00</div>

    <script>
        let timerInterval;
        let startTime;
        let elapsedTime = 0;

        function updateDisplay(time) {
            const date = new Date(time);
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            const milliseconds = String(date.getMilliseconds()).substr(0, 2);
            document.getElementById('timer').textContent = `${minutes}:${seconds}:${milliseconds}`;
        }

        function startTimer() {
            if (!timerInterval) {
                startTime = Date.now() - (elapsedTime || 0);
                timerInterval = setInterval(function () {
                    elapsedTime = Date.now() - startTime;
                    updateDisplay(elapsedTime);
                }, 10);
            }
        }

        function stopTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            elapsedTime = 0;
            updateDisplay(0);
        }

        // Hotkey listeners
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.shiftKey) {
                switch(event.code) {
                    case 'Digit1': // Ctrl + Shift + 1
                        startTimer();
                        break;
                    case 'Digit2': // Ctrl + Shift + 2
                        stopTimer();
                        break;
                    case 'Digit3': // Ctrl + Shift + 3
                        resetTimer();
                        break;
                }
            }
        });
    </script>
</body>

</html>
